[![banner](https://i.griefed.de/images/2021/03/03/serverpackcreator_banner.png)](https://github.com/Griefed/ServerPackCreator)

[![Homepage](https://img.shields.io/badge/Griefed.de-Homepage-c0ffee?style=for-the-badge&labelColor=325358&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACylBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v6OsnIvAAAA7XRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiQlJicoKSorLC0uLzAxMjU2Nzg5Ojs8Pj9AQUJERUZHSElLTE9QUVJTVFVWV1hZXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gIGCg4SGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6Cio6WmqKmqq6ytrrCxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jKy8zNzs/Q0dLT1NXW2Nrb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f4O/wLaAAAGUklEQVR42o3WBVsb2xoF4G9PQqgXubktUnd3d3fFqjjHQt2Vg9Xd3TXU3d1b3KEugczM+g8nY5VAmrxYZGaxtj1A9jgfcoS1SdKTUx73gg2kYZzOTcdIYQjKeVWZnPJ7a91bh2zc6/SJWbNj16F9G+aNa12VkXGjBYU+5FTTz0DqmPphB9MsIjRCgXnRXRH42pSc6lQCgLdCIYoifsL3IqcG8FB8e34sISpkUnjUjKRj2VpeIDmjmweFdYeRkcr/mtYjK9CNfstnt1pAyFxmJA3XIi5VUDucqEeOsV5p6u2v5tbl6Cecb9RtC2T5Qxk5wE35rN5u8uPKhHuMPPZB/FgClEzXUbl0s3jg6S3+Ubgnlati1w1XB74ExPhyJ4KbzQNHasQHVyeHdH56nxQpoZwOLIyHuLkC6ciJSrtEiNMZ2ev3BdjgTi6ouAsoGUJ2amUCh9zJJZVSgHy71XQ7CDzwJhf5vQRO/DqR4wR87qYn1+gS7gHi0gGdmvp5cKSv4tOsd1A68PaaH7loAg8bvuTz23s+lPS66BsvAhDX66rWlDlt4vEYitIgojbZULzvwqSH/OOPy8iZCBGyPQYiFmSB7GgFBpuNNPrtWfOZW2bzlcvmlFtnzGdvms3XLppTbqeYz18/15YkXq8heVObbAwb5DjLCJID4qjfmTBDyNTuxpi/vHtOCTGEhrarE/FX1cGTR1eMiuxxsTVJYgWp7GiSGe/A5rYHMVy68eGU35wddXc3o/EJ7u4rxlKLXXVYxHx91Y0DqNv2/7E5C5QOflIFoSkpZktPIhkxPMzNB7AzpHdYjcjh3XsOifl/aO+QOlPHtRs84E/vqL6jmwZP6HFO6sDNlyr8STJ2GECqLxHDLTmgcINpxZNZplPHTbOeJps23ZlhOn/AtOD5UtOua7GxZxMfMCKql8UDpxhJKmdCFOI4Iia+KCoGYO5rZ/qGn591Ihtu+V4euVVJ0qwUqZdakM3UE6mb41Lj2pOdfn9TGcYa6bC2JMkwEfv8dSQJmBDtYSZyJYDYGWAUSf4BlpAiIMJ/4R0XA2g1MJMkiUCUFrCs34bnrgaYgLVyle0QA7SAwMAGZlcDJgC75YC9EMdqAXcXBDxyNWA8cJBsdCeBUC1gZijnuIFnTVVFkgQAR8iGOwxEawHjfUPPkL1mJ+/0JKKW36C6TpIQYA9JtgLztYB1AcnvyE717LeFX5sT9YMmlyR/qZNIC4Et3xs0DCjToGeSu25KZNmARO0XBwKXOTVgaQAzk53aNYn07ewDdLWOAQEkac8jx9+oBFyOL2cVmPxJjd6LqtPSjFzOBt9emdwi8IeXccoQRraxazDYpAqqvnqnagoRFy8ARZ4k4S4AQmY9ZRlbL3hFP2Ol0ERDk0PklwbgPEeymQCEeZwUMKNt/INfA/DdPz/NAYsW8OMItRYBvPKTAoKm+JpdCfC4A5s7RpKNldKEWCng2Sy7SWQiNFHQZNAoC2zE9QayqZMKyStPooA/ovVyA6Yh0w5VfOWl2sNhFY9DZglkRIZ9kAnh0ip4RF8gonioSgc9hKpggADVo24foMhuQxRiheJxdWkrrywmohS7gds9zN8oAhD5r4WvEsnn3tvPJcofyxBbg7bDU5wHfLr2EcgO7NnUp7KeuOq+TTr2TxCB+/G6gFUjmAsBeUNKIQTSz9wvAGm1KeDE2vHSKqyHih/5GqqPnZ/nqi6mAUfc6BdN3gKXqgSMH9DNTETBO1RrqoZrDxdzpKpyGciuTXbGWYGDocv7xWcQUS40fQRompOi0gHg2wCyxy0EkBXhP/cWEeVD0w/ftSIbHVXeBwjRjMrQrxOBq9OMV3SOAzwmJPifBwR1OHbc1wJIH5q2sWvFcofQwivyCX/3NSAu0VO59AutgNUifji2f+O/cbL5VYLiFPHJM16LkFj+5sgBbtxbyCx3on79f52rP/+12iVvMCPHGp8TIRNS/22hI40xLku9XTxel37LMDUPCvGKP6k4n708FEvdyJlgEYqis2tmhE+dGDZr/dl0KxR8f3KqN49yCTyAkg7kVLNvgHh72YViAd9Z81JMLcakAp+bkFM+RbCsMxLn1Wnism1Hjh/YsSp2ZMtqjIjq7LW+9SWnqrzODjCQijFGPxiC71Ynp/RJrZnjehzZ+Q9fNggLmTcf8AAAAABJRU5ErkJggg==)](https://www.griefed.de)
[![Blog](https://img.shields.io/badge/Griefed.de-Blog-c0ffee?style=for-the-badge&labelColor=325358&logo=wordpress)](https://blog.griefed.de)
[![Fleet](https://img.shields.io/badge/Griefed.de-Fleet-c0ffee?style=for-the-badge&labelColor=325358&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABiVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8XJWL///8gNCTuAAAAgXRSTlMAAgMEBQYHCAkLDA4PEBESFhgZGh0eISIlKC8zNDU3OT0+P0BBQkhKS01QU1RVVltcXWJjZGlrbG1wcnN0eHl6e4CBhYyOkJWWmZ6foaKkqaqsrrKztLe8vsHExcbHy8zNz9DT1NXX2Nna293e3+Tm5+nq7O3u7/Hy9fb4+fr7/f4zgtRAAAABWklEQVR42mKgHhCFMbg0dHW1xNGlBcw5wTS7tkcJoNV5UJItBoMA3GPjcm3btm3btq1+8s1JxijuV0p+X5NzVcfNRoT4O26ClEZykdydI5ddCHDt+EfqthiwYoXfRH++yb9r8IZ+o/CpeB1hE/zMtXf0KYKkP9p8ZSaCfq1S2ddDU84zrsuXYXZjYy0VcBxQKYVmgQ9slS8HhUbxSP+kNAPB+kIyO1ggr5mn9GoX70wKydA4/RNQQSVPvGspZEHQ5ZKHK5lu8UymUi/enRQuxYjcN5LPH+RTQfcVlQ4AbfJ1n4JKRusG0ErpzCn3vjFMe8g9/eUU2himHEAilc+Vq6XJ4Zyx6eXTk3f6/IOww7i2oOliXNXQ/H5kHBcWSO2MowyKJc4VU/BLOGcMm04EJF3FyHsQImkvMj/tQBhrz0to+rwSUf70XvjT23VWxKLLaBkYGuqr+Y8f9Q3q0fzzGED8cgAAAABJRU5ErkJggg==)](https://fleet.griefed.de)
[![GitHub](https://img.shields.io/badge/Griefed.de-Github-c0ffee?style=for-the-badge&labelColor=325358&logo=github)](https://github.com/Griefed)
[![DockerHub](https://img.shields.io/badge/Griefed.de-DockerHub-c0ffee?style=for-the-badge&labelColor=325358&logo=docker&logoColor=white)](https://hub.docker.com/u/griefed)
[![Discord](https://img.shields.io/badge/Griefed.de-Discord-c0ffee?style=for-the-badge&labelColor=325358&logo=discord&logoColor=white)](https://discord.griefed.de)

---

# Sources, GitHub, GitLab and Mirroring and all that good stuff

Repositories on GitHub are now for issues only. I've set up my own installation of GitLab and moved all my repositories over to [Git.Griefed.de](https://git.griefed.de/users/Griefed/projects). Make sure to check there first for the latest code before opening an issue on GitHub.

For questions, you can always join my [Discord server](https://discord.griefed.de) and talk to me there.

---

[![Docker Pulls](https://img.shields.io/docker/pulls/griefed/serverpackcreator?style=for-the-badge&logo=Docker&labelColor=325358&color=c0ffee&logoColor=white)](https://hub.docker.com/r/griefed/serverpackcreator)
[![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/griefed/serverpackcreator?label=Image%20size&sort=date&style=for-the-badge&logo=Docker&labelColor=325358&color=c0ffee&logoColor=white)](https://hub.docker.com/r/griefed/serverpackcreator)
[![Docker Cloud Automated build](https://img.shields.io/docker/cloud/automated/griefed/serverpackcreator?label=Docker%20build&style=for-the-badge&logo=Docker&labelColor=325358&color=c0ffee&logoColor=white)](https://hub.docker.com/r/griefed/serverpackcreator)

[![GitHub release (latest by date including pre-releases)](https://img.shields.io/github/v/release/Griefed/ServerPackCreator?include_prereleases&label=Latest%20Release&logo=Github&style=for-the-badge&color=c0ffee&labelColor=325358)](https://github.com/Griefed/ServerPackCreator/releases/latest)
[![GitHub](https://img.shields.io/github/license/Griefed/ServerPackCreator?logo=GitHub&style=for-the-badge&color=c0ffee&labelColor=325358)](https://github.com/Griefed/ServerPackCreator/blob/main/LICENSE)

[![GitLab Pipeline Status](https://img.shields.io/gitlab/pipeline/Griefed/ServerPackCreator/main?gitlab_url=https%3A%2F%2Fgit.griefed.de&label=GitLab%20CI/CD%20Status&color=c0ffee&logo=GitHub&logoColor=white&labelColor=325358&&style=for-the-badge)](https://git.griefed.de/Griefed/ServerPackCreator)
[![GitHub Workflow Status](https://img.shields.io/github/workflow/status/Griefed/ServerPackCreator/Deploy%20javadocs%20to%20GitHub%20pages?color=c0ffee&labelColor=325358&label=GitHub%20Pages%20Deploy&logo=GitHub&logoColor=white&style=for-the-badge)](https://griefed.github.io/ServerPackCreator)

[![GitHub Repo stars](https://img.shields.io/github/stars/Griefed/serverpackcreator?label=GitHub%20Stars&style=for-the-badge&logo=Github&labelColor=325358&color=c0ffee)](https://github.com/Griefed/ServerPackCreator)
[![GitHub forks](https://img.shields.io/github/forks/Griefed/serverpackcreator?label=GitHub%20Forks&style=for-the-badge&logo=Github&labelColor=325358&color=c0ffee)](https://github.com/Griefed/ServerPackCreator)
[![GitHub contributors](https://img.shields.io/github/contributors/Griefed/ServerPackCreator?color=c0ffee&label=Contributors&logo=GitHub&logoColor=white&style=for-the-badge&labelColor=325358)](https://github.com/Griefed/ServerPackCreator/graphs/contributors)
[![GitHub all releases](https://img.shields.io/github/downloads/Griefed/ServerPackCreator/total?color=c0ffee&logo=GitHub&logoColor=white&labelColor=325358&style=for-the-badge)](https://github.com/Griefed/ServerPackCreator/releases)

**ServerPackCreator is a Java-program which creates a server pack from any given Forge or Fabric modpack. Customize the configuration to your liking and off you go.**
**Whenever you are working on an update to your modpack, you simply run ServerPackCreator and BAM! You've got yourself a server pack for your new modpack version.**

I am making this in my spare time, therefore progress is slow. I also just started getting into Java programming, so expect the code to be of...questionable...quality.

Use at your own risk! Be aware that data loss is possible.

[[_TOC_]]

# JetBrains

**None of this would have been possible without the excellent IDEs by JetBrains. They have kindly provided this open source project with an All Products Pack license.**

[JetBrains](https://www.jetbrains.com/) | [IntelliJ IDEA](https://www.jetbrains.com/idea/) | [WebStorm](https://www.jetbrains.com/webstorm/)
--------- | ---------  | ------
[![JetBrains](https://i.griefed.de/images/2021/05/11/jetbrains.th.png)](https://www.jetbrains.com/) | [![IntelliJ IDEA](https://i.griefed.de/images/2021/05/11/icon-intellij-idea.th.png)](https://www.jetbrains.com/idea/) | [![WebStorm](https://i.griefed.de/images/2021/05/11/icon-webstorm.th.png)](https://www.jetbrains.com/webstorm/)

# Screenshots

GUI, CLI and webservice

![ServerPackCreator](https://i.griefed.de/images/2021/05/08/screenshot.png)

---

# ✨ Thanks to all of my Supporters and Sponsors ✨

SPONSORS

---
# 1. Known issues

A list of known issues can be found in [Known Issues](https://github.com/Griefed/ServerPackCreator/issues/55).

# 2. Contributing

Read [contributions](https://github.com/Griefed/ServerPackCreator/blob/main/CONTRIBUTING.md) before considering contributing to ServerPackCreator.


# 3. Features

1. **Generate a config step-by-step by running with argument**`-cgen`
2. **Download a modpack and create a server pack from it.**
3. **Install a Forge or Fabric modloader server in your server pack**
4. **Configurable list of clientside-only mods to not include your server pack**
5. **Configurable list of directories from your modpack to include in your server pack**
    1. Copying worlds from `saves/world` will result in the world being copied to `server_pack/world`
6. **Include Forge or Fabric start scripts in your server pack**
7. **Include a server-icon.png-file in your server pack**
8. **Include a server.properties-file in your server pack**
9. **Create a ZIP-archive of your server pack**
10. **GUI to fully configure and run ServerPackCreator**
    1. Load existing config
    1. Browse local filesystem to select modpack directory, clientside-only mods, directories to include in server pack, Java executable/binary
    1. Logs from last run in separate tabs
    1. About ServerPackCreator-tab with links to GitHub issues, HasteBin, Discord
11. **Webservice providing a web-frontend to configure, generate and download server packs.**
    1. Upload config files
    2. Upload CurseForge modpack-archives to generate server packs from
    3. Browse uploaded modpacks to configure clientside-only mods, directories to include in server pack, Java executable/binary etc.
    4. Logs from last run in separate tab
    5. About ServerPackCreator-tab with links to GitHub issues, HasteBin, Discord
12. **Addons!**
    1. Users can provide addons which will be executed after the generation of a server pack. Add them to the `addons`-directory.
    2. Example addon at [ServerPackCreatorExampleAddon](https://github.com/Griefed/ServerPackCreatorExampleAddon)

# 4. Versions

Consider major version incompatible to each other. Meaning, configs from 1.x.x are incompatible with version 2.x.x etc.

Version mask | Description
-------------|------------
**1.x.x** | CLI only
**2.x.x** | CLI and GUI. To continue to use it in CLI-mode, start it with the `-cli` argument. Note that `-cgen` is exclusive to CLI and not supported by the GUI. **The** ´.exe` **executable is GUI exclusive.**
**3.x.x** | CLI, GUI, Webservice. Same as with 2.x.x but with `-web`-argument added. Use `-web` to start ServerPackCreator as a webservice which will be available at `http://localhost:8080`

# 5. Addons

There are things which people want to do with their server packs which could most certainly be automated. Some of those
things so special, or maybe out of place, that they would not warrant a separate feature for ServerPackCreator itself.

It may also be that it is such a niche feature, that I either don't have the time to code it in, or simply don't want to.
Maybe it doesn't fit into the overall design of ServerPackCreator, too. Who knows, it could be any of those reasons or another.

**Hence, the addon functionality!**

This allows people to write their own addons to expand the functionality of ServerPackCreator with their own features as
they see fit or want.

One example would be: Automatic setup of a server pack for BlueMap. An addon could check all mods in the specified modpacks
mods-directory for textures, and if any are found, add them to BlueMap's resourcepack folder config/bluemap/resourcepacks,
install BlueMap for the specified Minecraft and Forge/Fabric version and voilà! ServerPackCreator has BlueMap Support Automation
functionality, thanks to an addon, without having to wait for me to write it and add it to ServerPackCreators core-functionality for you!

For a detailed example of how such an addon is supposed to look, check the ExampleAddon in the list below!

| Addon | Creator | Description |
| :---- | :------ | :---------- |
| [ExampleServerPackAddon](https://github.com/Griefed/ServerPackCreatorExampleAddon) | Griefed | An example addon providing a starting point for addon development. |

# 6. Configuration

After the first run, ServerPackCreator will generate a couple of template-files in a directory called `server_files` in the directory the ServerPackCreator resides in.
Inside it are files you can customize, so they suit your modpack and server pack:
1. Start scripts for Forge and Fabric modloaders, for Linux and Windows systems
2. server-icon.png
3. server.properties

If you wish to re-generate the default-files, simply delete any one of the previously mentioned files, run ServerPackCreator again, and the new template-file(s) will be generated in `server_files`

Running ServerPackCreator.jar with the `-cli`-argument will guide you through the generation of a config-file, should none exist. Alternatively, run ServerPackCreator with the `-cgen` argument to create a new config file.
Should you be using ServerPackCreator.exe, the default/template-files will be generated automatically, if they do not exist yet.
An example for a fully configured `serverpackcreator.conf` can be viewed [here](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/examples/serverpackcreator.example).
Detailed list of all template files:

File | Description
---- | ----
serverpackcreator.conf | Configuration file for customization. See [serverpackcreator.conf](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/serverpackcreator.conf).
server.properties | Configuration file for the Minecraft server. See [server.properties](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/server.properties).
server-icon.png | Icon which is displayed in the server browser in Minecraft. See [server-icon.png](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/server-icon.png).
start-fabric.bat | Fabric server start script for windows systems. See [start-fabric.bat](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/start-fabric.bat).
start-fabric.sh | Fabric server start script for linux systems. See [start-fabric.sh](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/start-fabric.sh).
start-forge.bat | Forge server start script for windows systems. See [start-forge.bat](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/start-forge.bat).
start-forge.sh | Forge server start script for linux systems. See [start-forge.sh](https://github.com/Griefed/ServerPackCreator/blob/338dbc0054aa632faecd58748e9f9fa1431b2dcb/src/main/resources/de/griefed/resources/server_files/start-forge.sh).

The serverpackcreator.conf file allows you to customize a couple of different things:

Variable | Description
-------- | -----------
modpackDir | The path to the directory where your modpack resides in. Can also be a combination of CurseForge projectID and fileID. Example for Survive Create Prosper 4, version 4.6.7: `430517,3250155`. Specifying said combination would download and install version 4.6.7 of my modpack Survive Create Prosper, gather information, write a new config file and therefore allow you to generate server packs for any modpack on CurseForge. Special thanks to [TheRandomLabs](https://github.com/TheRandomLabs) and their [CurseAPI](https://github.com/TheRandomLabs/CurseAPI).
clientMods | List of client-side only mods which are to be deleted from the serverpack. You only need to specify the beginning of the filename up, but excluding, the version number. ServerPackCreator checks whether any of the mods which are copied from the modpack to the serverpack start with any strings in this list and, if there's a match, deletes that file from the serverpack. Check out the [example](https://gist.github.com/Griefed/090cc7c1c2b283daa4b46f6cb85e5e00) for an idea of how it's supposed to look.
copyDirs | List for directories which are to be copied to the serverpack. If you specify a world from the `saves`-directory, ServerPackCreator will copy the the specified world to the base directory of the serverpack. In other words, `/saves/MyAwesomeWorld` becomes `/MyAwesomeWorld`. A suggestion-list is created when setting `modpackDir`to a projectID,fileID-combination.
includeServerInstallation | Whether to install a Forge/Fabric server for the serverpack. Must be `true` or `false`.
javaPath | Path to the Java Installation. On Linux systems use `which java` to find the location of your Java install. On Windows use `where java` and exclude the `.exe`-part.
minecraftVersion | The version of Minecraft for which to install the modloader server. The same version of Minecraft your modpack uses. Automatically set when setting `modpackDir`to a projectID,fileID-combination.
modLoader | Which modloader to install. Must be either "Forge" or "Fabric". The same modloader your modpack uses. Automatically set when setting `modpackDir`to a projectID,fileID-combination.
modLoaderVersion | Specific Modloader version to install the server in the serverpack. The same version your modpack uses. Automatically set when setting `modpackDir`to a projectID,fileID-combination.
includeServerIcon | Whether to include server-icon.png in your serverpack. Must be `true` or `false`.
includeServerProperties | Whether to include server.properties in your serverpack. Must be `true` or `false`.
includeStartScripts | Whether to include start scripts in your serverpack. Must be `true` or `false`.
includeZipCreation | Whether to create a zip-file of your serverpack, saved in the directory you specified with `modpackDir`. Must be `true` or `false`.

After checking the configuration, run ServerPackCreator again, and it'll do it's magic.

---

# 7. Running

In every situation, the `.jar`-file needs to be run from the commandline. Executing it via "Open with..." and selecting Java will not work. To use the GUI, for example, simply run `java -jar ServerPackCreator-2.x.x.jar`.
The `.exe` can be executed as usual by simply double-clicking it and is GUI exclusive. It only works in Windows, though. Please keep that in mind.

## 7.1 Localization

If you wish to run ServerPackCreator with your locale (if it is already supported), you can either:
1. Run `java -jar ServerPackCreator-X.X.X.jar -lang your_locale` for example `java -jar ServerPackCreator-X.X.X.jar -lang en_us`. This will create the lang.properties-file with your specified locale.
2. Running `java -jar ServerPackCreator-x.x.x.jar` without `-lang en_us` or any other language will set the locale to en_us by default and create the lang.properties-file.
3. Create a `lang.properties`-file in the same directory as ServerPackCreator-X-X-X.jar and input your locale like this `lang=your_locale` for example `lang=en_us`

See [SUPPORTED_LANGUAGES](https://github.com/Griefed/ServerPackCreator/blob/main/src/main/java/de/griefed/serverpackcreator/i18n/LocalizationManager.java) in `LocalizationManager.java` for a list of supported locales.

## 7.2 Using the GUI

You want to create a server pack for your modpack, right?

There are a couple of things you need to do in order to create a server pack for your modpack:

**1:** Find out whether any mod in your modpack is a clientside-only mod. Those are often mods which only add things to Minecraft which are of a graphical nature, like UI stuff. You need to know whether any mod in your modpack is a clientside-only mod, because having clientside-only mods in your server pack could crash your server unexpectedly.

**2:** Find the modloader, the modloader version and which Minecraft version your modpack is for.

**3:** Consider the folders in your modpack directory which you must inlcude in server pack in order for your server to work. Usually folders like `config` ,`mods` ,`scripts` and so on.

Those are the most important parts in making a server pack, I find.

If you're on Windows, go to <https://github.com/Griefed/ServerPackCreator/releases/latest> and download `serverpackcreator-X.X.X.exe` and place it somewhere you will remember. If you're on Linux or Mac, download the `serverpackcreator-X.X.X.jar`

The .exe can be started with a regular double click. The .jar needs to be started from the CLI with `java -jar serverpackcreator-X.X.X.jar`.

The first run of ServerPackCreator will create a couple of default files in the directory you started it in. If you plan on including any of these in your server pack, make sure you've customized them to your needs. They're in a directory called `server_files` in the same directory in which you executed `ServerPackCreator-X.X.X.jar` or `ServerPackCreator-X.X.X.exe` and will contain the following files which you can customize to your hearts content:

- `server.properties`

- `server-icon.png`

- `start-fabric.bat` and `start-fabric.sh`

- `start-forge.bat` and `start-forge.sh`

Once the ServerPackCreator window opened, you need to fill in all the information you gathered in the previously mentioned steps 1 to 3 into the designated textfields.
From top to bottom:

**Enter the path to your modpack directory:** You will also need to configure ServerPackCreator to point at the directory your modpack files are in. Click the folder icon on the right hand side to the first textfield, which will open your file explorer so you can browse to and select your modpack directory.

**Enter the list of clientside-only mods in your modpack:** Enter the list of clientside-only mods for your modpack into the second textfield.Every entry must be separated by a "," and NOT contain special characters such as [ \] ( ) \ / ;

**Enter the list of directories or files in your modpack to include in the server pack:** Enter the list of folders of your modpack which need to be included in your server pack. Every entry must be separated by a "," and NOT contain special characters such as [ \] ( ) \ / ;

**Enter the path to your Java executable/binary (optional):** If you are not sure where your java installation is located at, you can leave it blank and ServerPackCreator will try to determine said path by itself.

**Enter the Minecraft version your modpack uses:** Enter the Minecraft version your modpack runs in

**Enter the modloader your modpack uses:** Enter the modloader your modpack runs with. Must be either Forge or Fabric. Other modloaders are not supported.

**Enter the version of the modloader your modpack uses:** Enter the version of the modloader your modpack uses.

Last but not least, checkboxes:

**"Install modloader server in server pack?"** Does what it says on the tin. Whehter to install the Forge/Fabric server for the version you specified.

**"Include server-icon.png in server pack?"** Whether to include a custom server-icon.png in your server pack.

**"Include server.properties in server pack"** Whether to include a custom server.properties in your server pack.

**"Include start scripts in server pack?"** Whether to include custom start scripts for your server pack.

**"Create ZIP-archive of server pack?"** Whether ServerPackCreator should create a zipped archive of your server pack.

After you've customized and configured everything to your liking, click the button on the bottom. ServerPackCreator will check your configuration for errors and start generating your server pack should no errors be detected. When the server pack is finished, a prompt will open which will ask you whether you want to browse your newly created server pack in your file explorer.

That's pretty much it! Sounds like a lot, but honestly, all the stuff you need to do in order to configure ServerPackCreator you pretty much need to do anyway if you want to create a server pack.

Have fun!

## 7.3 Using the Command-line Interface

### 7.3.1 Windows

**1.** Download the latest version of ServerPackCreator from the Releases page: https://github.com/Griefed/ServerPackCreator/releases

**2.** Copy the .jar file to the partent directory of your modpack. Example:
![location](https://i.griefed.de/images/2021/03/03/run_windows1.png)

**3.** Open a command prompt by Shift-Right-Clicking into a free space of the explorer window, followed by a click on "Open command prompt here":
![command](https://i.griefed.de/images/2021/03/03/run_windows2.png)

**4.** Start the initial setup of ServerPackCreator by running it with the command: `java -jar ServerPackCreator-X.X.X.jar` (X.X.X corresponds to the version you downloaded. It will probably be different to the version used in these screenshots.)

This will generate the default files of ServerpackCreator and tell you to customize these files before running again. Example for the directory above:
```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
└── ServerPackCreator.jar
```

With the example above, the settings would look exactly like they are already set in the serverpackcreator.conf (or creator.conf if using older version). Note that modpackDir points at a directory *relative* to the ServerPackCreator.jar. Absolute paths *should* be usable, but are currently untested.

Configure the config file to your liking. Double check the path to your Java installation if you intend on having SPC install the modloader-server.

For a detailed explanation of the configuration, check chapter 5. Configuration

**5.** After you double checked that you've set up your serverpackcreator.conf it is time to run ServerPackCreator again. Simply run `java -jar ServerPackCreator-X.X.X.jar` again (X.X.X corresponds to the version you downloaded. It will probably be different to the version used in these screenshots.)

**6.** ServerPackCreator should now start telling you what it is currently doing. Logging of these actions may be very verbose, depending on which part SPC is currently working on. Should you have configured your config file correctly and should I have released a bug-free version of SPC, it will run until the console says "Done!".  (Depending on the hardware you are running on, this may take some time.)

Included in one of the last messages by SPC is the location of your newly generated serverpack.

If you've set `includeZipCreation` to true, there will also be a zip-file called `server_pack.zip` in your modpack folder.

Please note: The zip file **does not** contain Mojang's minecraft-server.jar. Distributing Mojang's software is against their Terms of Service and End User License Agreement. The zip file *does* however, contain scripts for both Windows and Linux, to download the minecraft-server.jar for your serverpack. That means that Users who download your serverpack simply need to run either of those two scripts and it will download the needed file for their modded Minecraft server.

Enjoy!

Example after successfully running SPC:

```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
├── ServerPackCreator-1.1.0.jar
└── Survive Create Prosper 4
    ├── background.gif
    ├── config
    ├── config.json
    ├── defaultconfigs
    ├── manifest.json
    ├── mods
    ├── natives
    ├── packmenu
    ├── scripts
    ├── seeds
    ├── server_pack
    └── server_pack.zip
```

### 7.3.2 Linux

**1.** Switch to a directory where you want ServerPackCreator to be stored in and where it can save and deploy all of its files.

**2.** Create and save the following script to download the latest version of ServerPackCreator:
```bash
#!/bin/bash
# Retrieve the latest version of ServerPackCreator

VERSION=$(curl --silent "https://api.github.com/repos/Griefed/ServerPackCreator/releases/latest" | grep '"tag_name":' | sed -E 's/.*"([^"]+)".*/\1/')

echo "Latest ServerPackCreator  version is: $VERSION"

echo ""

echo "Retrieving..."

curl -o ServerPackCreator-$VERSION.jar -L https://github.com/Griefed/ServerPackCreator/releases/download/$VERSION/serverpackcreator-$VERSION.jar

if [ -f ServerPackCreator-$VERSION.jar ]; then
  echo "Successfully retrieved ServerPackCreator version $VERSION"
else
  echo "Something seems to have gone wrong..."
  echo "ServerPackCreator-$VERSION could not be found..."
fi
```

Save it, `chmod +x` it, and run it.

This script will download the latest version of ServerPackCreator from GitHub and safe it to a file called ServerPackCreator-(version).jar.

**3.** Start the initial setup of ServerPackCreator by running it with the command: java -jar ServerPackCreator-X.X.X.jar (X.X.X corresponds to the version you downloaded.)

This will generate the default files of ServerpackCreator and tell you to customize these files before running again. Example:

```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
└── ServerPackCreator-X.X.X.jar
```

With the example above, the settings would look exactly like they are already set in the serverpackcreator.conf.

Configure the config file to your liking. Double check the path to your Java installation if you intend on having SPC install the modloader-server.

For a detailed explanation of the configuration, check chapter 5. Configuration.

**6.** After you double checked that you've set up your serverpackcreator.conf (or creator.conf if using older version) it is time to run ServerPackCreator again. Simply run `java -jar ServerPackCreator-X.X.X.jar` again (X.X.X corresponds to the version you downloaded. It will probably be different to the version used in these screenshots.)

**7.** ServerPackCreator should now start telling you what it is currently doing. Logging of these actions may be very verbose, depending on which part SPC is currently working on. Should you have configured your config file correctly and should I have released a bug-free version of SPC, it will run until the console says "Done!".  (Depending on the hardware you are running on, this may take some time.)

Included in one of the last messages by SPC is the location of your newly generated serverpack.

If you've set `includeZipCreation` to true, there will also be a zip-file called `server_pack.zip` in your modpack folder.

Please note: The zip file **does not** contain Mojang's minecraft-server.jar. Distributing Mojang's software is against their Terms of Service and End User License Agreement. The zip file *does* however, contain scripts for both Windows and Linux, to download the minecraft-server.jar for your serverpack. That means that Users who download your serverpack simply need to run either of those two scripts and it will download the needed file for their modded Minecraft server.

Enjoy!

Example after successfully running SPC:

```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
├── ServerPackCreator-1.1.0.jar
└── Survive Create Prosper 4
    ├── background.gif
    ├── config
    ├── config.json
    ├── defaultconfigs
    ├── manifest.json
    ├── mods
    ├── natives
    ├── packmenu
    ├── scripts
    ├── seeds
    ├── server_pack
    └── server_pack.zip
```

### 7.3.3 Mac

(By user [whitebear60](https://github.com/whitebear60))

**1.** Download the latest version of ServerPackCreator from the Releases page: https://github.com/Griefed/ServerPackCreator/releases

**2.** Copy the .jar file to the partent directory of your modpack. Example:
![location](https://i.griefed.de/images/2021/03/05/3biap1.png)

**3.** Open Terminal using Spotlight, Launchpad or by running `Terminal.app` from `/Applications/Utilities` folder

**4.** Change the active directory to the one with ServerPackCreator jar and your modpacks.
![command](https://i.griefed.de/images/2021/03/05/3bi9y1.png)

**5.** Start the initial setup of ServerPackCreator by running it with the command: `java -jar ServerPackCreator-X.X.X.jar` (X.X.X corresponds to the version you downloaded. It will probably be different to the version used in these screenshots.)

This will generate the default files of ServerpackCreator and tell you to customize these files before running again. Example for the directory above:

```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
└── ServerPackCreator.jar
```

With the example above, the settings would look exactly like they are already set in the serverpackcreator.conf. Note that modpackDir points at a directory *relative* to the ServerPackCreator.jar. Absolute paths *should* be usable, but are currently untested.

Configure the config file to your liking. Double check the path to your Java installation if you intend on having SPC install the modloader-server.

For a detailed explanation of the configuration, check chapter 5. Configuration

**6.** After you double checked that you've set up your serverpackcreator.conf (or creator.conf if using older version) it is time to run ServerPackCreator again. Simply run `java -jar ServerPackCreator-X.X.X.jar` again (X.X.X corresponds to the version you downloaded. It will probably be different to the version used in these screenshots.)

**7.** ServerPackCreator should now start telling you what it is currently doing. Logging of these actions may be very verbose, depending on which part SPC is currently working on. Should you have configured your config file correctly and should I have released a bug-free version of SPC, it will run until the console says "Done!".  (Depending on the hardware you are running on, this may take some time.)

Included in one of the last messages by SPC is the location of your newly generated serverpack.

If you've set `includeZipCreation` to true, there will also be a zip-file called `server_pack.zip` in your modpack folder.

Please note: The zip file **does not** contain Mojang's minecraft-server.jar. Distributing Mojang's software is against their Terms of Service and End User License Agreement. The zip file *does* however, contain scripts for both Windows and Linux, to download the minecraft-server.jar for your serverpack. That means that Users who download your serverpack simply need to run either of those two scripts and it will download the needed file for their modded Minecraft server.

Enjoy!

Example after successfully running SPC:

```console
.
├── serverpackcreator.conf
├── logs
│   ├── serverpackcreator.log
│   └── modloader_installer.log
├── server_files
│   ├── server-icon.png
│   ├── server.properties
│   ├── start-fabric.bat
│   ├── start-fabric.sh
│   ├── start-forge.bat
│   └── start-forge.sh
├── ServerPackCreator-1.1.0.jar
└── Survive Create Prosper 4
    ├── background.gif
    ├── config
    ├── config.json
    ├── defaultconfigs
    ├── manifest.json
    ├── mods
    ├── natives
    ├── packmenu
    ├── scripts
    ├── seeds
    ├── server_pack
    └── server_pack.zip
```

## 7.4 Docker

Creates a Container which runs [Griefed's](https://github.com/Griefed) [ServerPackCreator](https://github.com/Griefed/ServerPackCreator), with [lsiobase/alpine](https://hub.docker.com/r/lsiobase/alpine) as the base image.

The [lsiobase/alpine](https://hub.docker.com/r/lsiobase/alpine) image is a custom base image built with [Alpine linux](https://alpinelinux.org/) and [S6 overlay](https://github.com/just-containers/s6-overlay).
Using this image allows us to use the same user/group ids in the container as on the host, making file transfers much easier

Tags | Description
-----|------------
`latest` | Using the `latest` tag will pull the latest image for linux/amd64,linux/arm/v7,linux/arm64.
`develop` | The latest image of, if existent, the in-dev version of this container. Use at your own risk!

Using GitHub Workflows, images for this container are multi-arch. Simply pulling `:latest` should retrieve the correct image for your architecture.
Images are available for linux/amd64,linux/arm/v7,linux/arm64.

When running as a docker container, there are a couple more settings you need to be aware of.

Variable | Description
-------- | -----------
TZ | The timezone your system operates in. Default "Europe/Berlin"
PUID | The userID under which this container is run as. Important for file access and permissions. Run **cat /etc/passwd &#124; grep -i $(whoami)** to find your userID.
PGID | The groupID under which this container is run as. Important for file access and permissions. Run **cat /etc/passwd &#124; grep -i $(whoami)** to find your groupID.
MODPACKDIR | Mount your modpack like this `/path/to/your_modpack:data/your_modpack` and set MODPACKDIR=/data/your_modpack.</br>If you provide a CurseForge projectID and fileID, mount any folder `/path/to/data:/data` and set MODPACKDIR=projectID,fileID.
STARTUP_PARAMETER | Decides which mode ServerPackCreator will start in. `cli` for commandline interface, which will generate a server pack from the given config. `web` for starting ServerPackCreator as a webservice.

### 7.4.1 Using docker-compose:

```docker-compose.yml
version: "2"
services:
  serverpackcreator:
    image: griefed/serverpackcreator:latest
    container_name: serverpackcreator
    restart: "no" # Set to unless-stopped if you set STARTUP_PARAMETER=web
    environment:
      - STARTUP_PARAMETER=cli # Must be either cli or web
      - TZ=Europe/Berlin # Your Timezone
      - PUID=1000 # Your user ID
      - PGID=1000 # Your group ID
      - MODPACKDIR= # Either path to the modpack directory or CurseForge projectID,fileID combination.
      - MODLOADERVERSION= # The version of the modlaoder the modpack uses.
      - MODLOADER= # Either Forge or Fabric
      - MINECRAFTVERSION= # The Minecraft version the modpack uses.
      - INCLUDEZIPCREATION=true # Or false
      - INCLUDESTARTSCRIPTS=true # Or false
      - INCLUDESERVERPROPERTIES=true # Or false
      - INCLUDESERVERINSTALLATION=true # Or false
      - INCLUDESERVERICON=true # Or false
      - COPYDIRS= # Comma-separated. Must be set if MODPACKDIR is a path. Can be empty if MODPACKDIR is a projectID,fileID combination.
      - CLIENTMODS= # Comma-separated. Client-side mods to delete from server pack.
    volumes:
      - /host/path/todata:data # Created modpacks and server packs will be here
    ports:
      - 8080:8080 # Port at which ServerPackCreator will be accessible at. Only needed when setting STARTUP_PARAMETER to web. 
```

### 7.4.2 Using CLI:

```bash
docker create \
  --name=serverpackcreator \
  -e STARTUP_PARAMETER=cli `# Must be either cli or web` \
  -e TZ=Europe/Berlin `# Your Timezone` \
  -e PUID=1000 `# Your user ID` \
  -e PGID=1000 `# Your group ID` \
  -e MODPACKDIR= `# Either path to the modpack directory or CurseForge projectID,fileID combination.` \
  -e MODLOADERVERSION= `# The version of the modloader the modpack uses.` \
  -e MODLOADER= `# Either Forge or Fabric` \
  -e MINECRAFTVERSION= `# The Minecraft version the modpack uses.` \
  -e INCLUDEZIPCREATION=true `# Or false` \
  -e INCLUDESTARTSCRIPTS=true `# Or false` \
  -e INCLUDESERVERPROPERTIES=true `# Or false` \
  -e INCLUDESERVERINSTALLATION=true `# Or false` \
  -e INCLUDESERVERICON=true `# Or false` \
  -e COPYDIRS= `# Comma-separated. Must be set if MODPACKDIR is a path. Can be empty if MODPACKDIR is a projectID,fileID combination.` \
  -e CLIENTMODS= `# Comma-separated. Client-side mods to delete from server pack.` \
  -p 8080:8080 `# Port at which ServerPackCreator will be accessible at. Only needed when setting STARTUP_PARAMETER to web.` \
  -v /host/path/todata:data `# Created modpacks and server packs will be here` \
  --restart "no" \ `# Set to unless-stopped if you set STARTUP_PARAMETER=web`
  griefed/serverpackcreator:latest
```

## 7.5 Securing ServerPackCreator running as a webservice

Login and authentication will not be added to SPC running as a webservice, because that's a can of worms I do not want
to open, but I will provide an example on how you can secure it by using [Authelia](https://github.com/authelia/authelia).
TODO: Write small guide on running ServerPackCreator as webservice in Docker and secure it with Authelia.

---

# 8. Building ServerPackCreator locally

Clone the webservice branch of the repository:

`git clone -b webservice https://git.griefed.de/Griefed/ServerPackCreator.git`

If you are on linux, run `chmod +x gradlew` first.

Build with:

`gradlew about installQuasar cleanFrontend assembleFrontend copyDist build createExe`

---

# 9. Third-Party libraries used in this project

| Library | License |
| :---- | :---- |
[Typesafe](https://github.com/lightbend/config) | [License](backend/main/resources/third-party-licenses/Typesafe-Config-License)
[Fasterxml Jackson Core](https://github.com/FasterXML/jackson-core) | [License](backend/main/resources/third-party-licenses/Fasterxml-Jackson-Core-License)
[Fasterxml Jackson Databind](https://github.com/FasterXML/jackson) | [License](backend/main/resources/third-party-licenses/Fasterxml-Jackson-Databind-License)
[Apache commons-io](https://github.com/apache/commons-io) | [License](backend/main/resources/third-party-licenses/Apache-Commons-IO-License)
[Lingala zip4j](https://github.com/srikanth-lingala/zip4j) | [License](backend/main/resources/third-party-licenses/Lingala-zip4j-License)
[moandjiezana toml4j](https://github.com/mwanji/toml4j) | [License](backend/main/resources/third-party-licenses/Moandjienza-toml4j-License)
[FabricMC fabric-installer](https://github.com/FabricMC/fabric-installer) | [License](backend/main/resources/third-party-licenses/FabricMC-fabric-installer-License)
[TheRandomLabs CurseAPI](https://github.com/TheRandomLabs/CurseAPI) | [License](backend/main/resources/third-party-licenses/TheRandomLabs-CurseAPI-License)
[Xerial SQLite JDBC](https://github.com/xerial/sqlite-jdbc) | [License](backend/main/resources/third-party-licenses/Xerial-SQLite-JDBC-License)
[Vincenzopalazzo Material-UI-Swing](https://github.com/vincenzopalazzo/material-ui-swing) | [License](backend/main/resources/third-party-licenses/Vincenzopalazzo-Material-UI-Swing)
[Springframework Spring-Boot](https://github.com/spring-projects/spring-framework) | [License](backend/main/resources/third-party-licenses/Springframework-Spring-Boot-License)
[Apache log4j](https://github.com/apache/log4j) | [License](backend/main/resources/third-party-licenses/Apache-log4j-License)
